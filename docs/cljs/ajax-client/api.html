<!DOCTYPE html>
<html><html><head><link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@100;200;300;400;500;600;700;800;900&amp;display=swap" rel="stylesheet"><style type="text/css">body{font-family:Montserrat;margin:0 0 0 480px;padding:60px 48px}div{box-sizing:border-box}span{display:block}.scroll-container{flex-grow:1;overflow-y:auto}a,a:active,a:hover,a:visited{display:block;text-decoration:none}.button{font-size:14px;line-height:24px;padding:0 12px}.button:hover{background-color:#f0f0f0}.button--active{background-color:#f3f3f3}.button--active:hover{background-color:#f0f0f0}.text--micro{font-size:10px;line-height:24px;text-transform:uppercase}.text--normal{font-size:16px;line-height:18px}.color--basic{color:#303030}.color--primary{color:#0088cc}.color--muted{color:#606060}.color--warning{color:#883300}.collapsible-wrapper{display:flex;flex-direction:column}.collapsible-button{cursor:pointer;font-weight:500;position:relative;user-select:none;width:fit-content}.collapsible-button:hover{color:#888}.collapsible-button::after{align-items:center;content:'▼';display:flex;font-size:8px;justify-content:center;position:absolute;height:24px;right:-24px;top:0;width:24px}.collapsible-wrapper[data-expanded="true"] .collapsible-button::after{content:'▲'}.collapsible-wrapper .doc-block--box{display:none}.collapsible-wrapper[data-expanded="true"] .doc-block--box{display:block}#top-bar{background-color:#ffffff;border-bottom:1px solid #e0e0e0;display:flex;gap:6px;height:60px;left:0;padding-left:18px;padding-top:18px;position:fixed;top:0;width:100%}#top-bar--library-uri{font-size:12px;line-height:60px;padding:0 18px;position:absolute;right:0;top:0}#top-bar--library-uri:hover{background-color:#f0f0f0}#top-bar--library-name{font-size:18px;font-weight:600;line-height:24px;text-transform:uppercase}#top-bar--author-name{font-size:12px}#top-bar--library-version{font-size:12px}#bottom-bar{background-color:white;border-top:1px solid #e0e0e0;bottom:0;display:flex;justify-content:right;left:0;position:fixed;width:100%}#bottom-bar--credits-link{color:#aa55bb;font-size:12px;letter-spacing:.8px;line-height:42px;padding:0 18px}#bottom-bar--credits-link:hover{background-color:#f0f0f0}#primary-list{border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:0;padding:12px 0 54px 0;position:fixed;top:60px;width:240px}#secondary-list{border-right:1px solid #e0e0e0;display:flex;flex-direction:column;height:calc(100vh - 60px);left:240px;padding:12px 0 54px 0;position:fixed;top:60px;width:240px}#primary-list .text--micro,#secondary-list .text--micro{padding-left:12px}.primary-list--container,.secondary-list--container{margin-bottom:12px}#credits{align-items:center;display:flex;flex-direction:column;margin-left:240px;padding-top:120px}#namespace-header--title{font-size:18px;font-weight:600;line-height:24px;margin-top:24px}#declarations{display:flex;flex-direction:column}.declaration--wrapper{padding-top:64px}.declaration--name{border-bottom:1px solid #e0e0e0;color:#558899;font-size:16px;font-weight:600;line-height:18px;padding-bottom:8px;margin-bottom:12px}.tutorial--wrapper{padding-top:64px}.tutorial--name{border-bottom:1px solid #e0e0e0;color:#665599;font-size:16px;font-weight:600;line-height:18px;padding-bottom:8px;margin-bottom:12px}.doc-blocks{display:flex;flex-direction:column}.doc-block--separator{height:12px}.doc-block--label{display:flex;gap:4px;line-height:24px}.doc-block--box{background-color:#fafafa;color:#333;font-size:12px;line-height:16px;margin:0;padding:12px 8px}.doc-block--preview-image{border:1px solid #dedede;display:block;max-height:360px;max-width:640px;min-height:36px;min-width:48px}</style><script type="text/javascript">function toggleCollapsible (collapsibleId) { collapsible = document.getElementById ( collapsibleId ); if (collapsible.dataset.expanded === 'true') { collapsible.dataset.expanded = 'false'; } else { collapsible.dataset.expanded = 'true'; }}</script></head><body><div id="primary-list"><div class="scroll-container"><div class="primary-list--container"><span class="text--micro color--muted">ClojureScript namespaces</span><a class="button color--primary button--active" href="https://bithandshake.github.io/cljs-ajax-client/cljs/ajax-client/api.html">ajax-client.api</a></div></div></div><div id="secondary-list"><div class="scroll-container"><div class="secondary-list--container"><span class="text--micro color--muted">Tutorials</span><a class="button color--primary" href="#CSRF token">CSRF token</a></div><div class="secondary-list--container"><span class="text--micro color--muted">Declarations</span><a class="button color--primary" href="#abort-request!">abort-request!</a><a class="button color--primary" href="#progress-event-&gt;request-progress">progress-event->request-progress</a><a class="button color--primary" href="#request-&gt;internal-request?">request->internal-request?</a><a class="button color--primary" href="#send-request!">send-request!</a></div></div></div><div id="namespace-header"><span id="namespace-header--title">ajax-client.api</span><span class="text--micro color--muted">ClojureScript namespace</span></div><div id="tutorials--wrapper"><div id="tutorials"><div class="tutorial--wrapper" id="CSRF token"><span class="text--micro color--muted">Tutorial</span><div class="tutorial--name">CSRF token</div><div class="doc-blocks"><div class="doc-block--separator"></div><div class="doc-block"><div class="text--normal color--blue">To use a CSRF token in request headers, place an element into the DOM tree with<br>the `data-csrf-token` attribute, and set the actual token as its value.</div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">[:html [:body [:div {:data-csrf-token "..."}]]]</pre></div></div></div></div></div><div id="declarations--wrapper"><div id="declarations"><div class="declaration--wrapper" id="send-request!"><span class="text--micro color--muted">Declaration</span><div class="declaration--name">send-request!</div><div class="doc-blocks"><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Description</span></div><div class="text--normal color--basic">Sends an AJAX request to the given URI.</div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Param</span><span>request-id</span><span class="text--micro color--muted">keyword</span><span class="text--micro color--muted">optional</span></div></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Param</span><span>request-props</span><span class="text--micro color--muted">map</span><span class="text--micro color--muted">required</span></div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">(defn my-progress-handler-f [request-id request-progress]     ...)<br>(defn my-error-handler-f    [request-id server-response]      ...)<br>(defn my-response-handler-f [request-id server-response-body] ...)<br>(defn my-response-parser-f  [request-id server-response-body] (my-parser/read-json server-response-body))<br>...<br>(send-request! :my-request {:method             :post<br>                            :progress-handler-f my-progress-handler-f<br>                            :error-handler-f    my-error-handler-f<br>                            :response-parser-f  my-response-parser-f<br>                            :response-handler-f my-response-handler-f<br>                            :uri                "/my-uri"})</pre></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Return</span><span class="text--micro color--muted">keyword</span></div></div></div><div class="doc-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="send-request!--source-code"><div class="collapsible-button text--micro" onClick="toggleCollapsible(&apos;send-request!--source-code&apos;)">Source Code</div><pre class="doc-block--box">(defn send-request!
  ([request-props]
   (send-request! (random/generate-keyword) request-props))

  ([request-id {:keys [method uri] :as request-props}]
   (let [reference (case method :get  (ajax.core/GET  uri (prototypes/request-props-prototype request-id request-props))
                                :post (ajax.core/POST uri (prototypes/request-props-prototype request-id request-props)))]
        (swap! state/REFERENCES assoc request-id reference)
        (-> request-id))))</pre></div></div><div class="declaration--wrapper" id="abort-request!"><span class="text--micro color--muted">Declaration</span><div class="declaration--name">abort-request!</div><div class="doc-blocks"><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Description</span></div><div class="text--normal color--basic">Aborts an ongoing request identified by the given request ID.</div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Param</span><span>request-id</span><span class="text--micro color--muted">keyword</span><span class="text--micro color--muted">required</span></div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">(abort-request! :my-request)</pre></div></div><div class="doc-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="abort-request!--source-code"><div class="collapsible-button text--micro" onClick="toggleCollapsible(&apos;abort-request!--source-code&apos;)">Source Code</div><pre class="doc-block--box">(defn abort-request!
  [request-id]
  (when-let [reference (-> state/REFERENCES deref request-id)]
            (swap! state/REFERENCES dissoc request-id)
            (ajax.core/abort reference)))</pre></div></div><div class="declaration--wrapper" id="progress-event-&gt;request-progress"><span class="text--micro color--muted">Declaration</span><div class="declaration--name">progress-event->request-progress</div><div class="doc-blocks"><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Param</span><span>progress-event</span><span class="text--micro color--muted">object</span><span class="text--micro color--muted">required</span></div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">(fn [progress-event]<br>    (progress-event->request-progress progress-event))</pre></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Return</span><span class="text--micro color--muted">percent</span></div></div></div><div class="doc-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="progress-event-&gt;request-progress--source-code"><div class="collapsible-button text--micro" onClick="toggleCollapsible(&apos;progress-event-&gt;request-progress--source-code&apos;)">Source Code</div><pre class="doc-block--box">(defn progress-event->request-progress
  [progress-event]
  (let [loaded (.-loaded progress-event)
        total  (.-total  progress-event)]
       (math/percent total loaded)))</pre></div></div><div class="declaration--wrapper" id="request-&gt;internal-request?"><span class="text--micro color--muted">Declaration</span><div class="declaration--name">request->internal-request?</div><div class="doc-blocks"><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Param</span><span>request</span><span class="text--micro color--muted">map</span><span class="text--micro color--muted">required</span></div></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">(request->internal-request? {:uri "/my-route"})<br>=><br>true</pre></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Usage</span></div><pre class="doc-block--box">(request->internal-request? {:uri "https://my-site.com"})<br>=><br>false</pre></div><div class="doc-block--separator"></div><div class="doc-block"><div class="doc-block--label"><span class="text--micro color--muted">Return</span><span class="text--micro color--muted">boolean</span></div></div></div><div class="doc-block--separator"></div><div class="collapsible-wrapper" data-expanded="false" id="request-&gt;internal-request?--source-code"><div class="collapsible-button text--micro" onClick="toggleCollapsible(&apos;request-&gt;internal-request?--source-code&apos;)">Source Code</div><pre class="doc-block--box">(defn request->internal-request?
  [{:keys [uri]}]
  (let [uri-external? (re-find #"^\w+?://" uri)]
       (not uri-external?)))</pre></div></div></div></div><div id="top-bar"><span id="top-bar--library-name">cljs-ajax-client</span><span class="color--muted" id="top-bar--library-version">1.0.7.9</span><a class="color--primary" href="https://github.com/bithandshake/cljs-ajax-client" id="top-bar--library-uri">github.com/bithandshake/cljs-ajax-client</a></div><div id="bottom-bar"><a href="https://github.com/mt-devtools/clj-source-code-documentation" id="bottom-bar--credits-link">github.com/mt-devtools/clj-source-code-documentation</a></div></body></html></html>